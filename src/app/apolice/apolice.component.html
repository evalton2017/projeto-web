<ngx-loading [show]="loading"></ngx-loading>

<div class="container">

    <div class="example-form">
        <button mat-button style="background-color:rgb(98, 98, 236);color: white;"
            (click)="cadastrar()">Cadastrar</button>
    </div>


    <mat-form-field class="example-form">
        <mat-label>Pesquise a apolice pelo numero</mat-label>
        <input type="text" matInput fullWidth placeholder="Digite sua pesquisa" [(ngModel)]="pesquisa"
            (keyup)="pesquisar()">
    </mat-form-field>

    <table class="table table-hover" mat-table [dataSource]="dataSource" matSort>
        <tr mat-header-row *matHeaderRowDef="colunas"></tr>
        <tr mat-row *matRowDef="let row; columns: colunas;"></tr>

        <ng-container matColumnDef="id" class="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header [ngClass]="'id'">Codigo</th>
            <td mat-cell *matCellDef="let apolice" [ngClass]="'id'">{{ apolice.id}}</td>
        </ng-container>

        <ng-container matColumnDef="numero">
            <th mat-header-cell *matHeaderCellDef mat-sort-header [ngClass]="'topo_nome'">
                Numero
            </th>
            <td mat-cell *matCellDef="let apolice">
                {{ apolice.numero }}
            </td>
        </ng-container>

        <ng-container matColumnDef="inicio">
            <th mat-header-cell *matHeaderCellDef [ngClass]="'inicio'">
                Inicio
            </th>
            <td mat-cell *matCellDef="let apolice" [ngClass]="'inicio'">
                {{ apolice.inicioVigencia}}
            </td>
        </ng-container>

        <ng-container matColumnDef="fim">
            <th mat-header-cell *matHeaderCellDef [ngClass]="'fim'">
                Fim
            </th>
            <td mat-cell *matCellDef="let apolice" [ngClass]="'fim'">
                {{apolice.fimVigencia}}
            </td>
        </ng-container>

        <ng-container matColumnDef="placa">
            <th mat-header-cell *matHeaderCellDef [ngClass]="'placa'">
                Placa
            </th>
            <td mat-cell *matCellDef="let apolice" [ngClass]="'placa'">
                {{apolice.placa }}
            </td>
        </ng-container>

        <ng-container matColumnDef="valor">
            <th mat-header-cell *matHeaderCellDef [ngClass]="'valor'">
                Valor
            </th>
            <td mat-cell *matCellDef="let apolice" [ngClass]="'valor'">
                R$ {{apolice.valor }}
            </td>
        </ng-container>


        <ng-container matColumnDef="opcoes">
            <th mat-header-cell *matHeaderCellDef [ngClass]="'opcoes'">
                Opções
            </th>
            <td mat-cell *matCellDef="let apolice" [ngClass]="'opcoes'">
                <button mat-mini-fab color="primary"><i class="fa fa-edit" title="Editar"
                        (click)="alterar(apolice)"></i></button>
                <button mat-mini-fab color="warn" mat-mini-fab (click)="excluir(apolice.id)"><i color="warn"
                        class="fa fa-trash" title="Excluir"></i></button>
            </td>
        </ng-container>
    </table>

    <mat-paginator #paginator [pageSize]="10" [pageSizeOptions]="[5,10,15,25]">
    </mat-paginator>


</div>